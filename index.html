<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>干燥综合征健康管理</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- 登录页 -->
        <div id="login-page" class="page active">
            <div class="login-container">
                <div class="logo-section">
                    <div class="logo">SS</div>
                    <h1>干燥综合征健康管理</h1>
                    <p>个人数据采集工具</p>
                </div>
                <div class="form-section">
                    <div class="input-group">
                        <label>用户名</label>
                        <input type="text" id="username-input" placeholder="请输入用户名">
                    </div>
                    <div class="input-group">
                        <label>密码</label>
                        <input type="password" id="password-input" placeholder="请输入密码">
                    </div>
                    <button class="btn-primary" onclick="handleLogin()">进入系统</button>
                </div>
            </div>
        </div>

        <!-- 患者列表页 -->
        <div id="patient-list-page" class="page">
            <header>
                <h2>患者列表</h2>
                <span class="logout" onclick="handleLogout()">退出</span>
            </header>
            <div class="patient-list" id="patient-list"></div>
            <div class="add-patient-section">
                <button class="btn-add" onclick="showAddPatient()">+ 添加患者</button>
            </div>
        </div>

        <!-- 添加患者弹窗 -->
        <div id="add-patient-modal" class="modal">
            <div class="modal-content">
                <h3>添加新患者</h3>
                <div class="input-group">
                    <label>住院号 *</label>
                    <input type="text" id="new-patient-id" placeholder="请输入住院号">
                </div>
                <div class="input-group">
                    <label>姓名 *</label>
                    <input type="text" id="new-patient-name" placeholder="请输入姓名">
                </div>
                <div class="modal-buttons">
                    <button class="btn-cancel" onclick="hideAddPatient()">取消</button>
                    <button class="btn-confirm" onclick="addPatient()">确认</button>
                </div>
            </div>
        </div>

        <!-- 患者详情页 -->
        <div id="patient-detail-page" class="page">
            <header>
                <span class="back" onclick="backToList()">&lt; 返回</span>
                <h2 id="patient-name-title">患者详情</h2>
                <span class="delete-btn" onclick="deletePatient()">删除</span>
            </header>
            <div class="patient-overview" id="patient-overview"></div>
            <div class="progress-section">
                <h3>数据采集进度</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <span class="progress-text" id="progress-text">0/13</span>
            </div>
            <div class="module-grid" id="module-list"></div>
            <div class="export-section">
                <button class="btn-export" onclick="exportPatientData()">导出该患者数据</button>
            </div>
        </div>

        <!-- 表单页 -->
        <div id="form-page" class="page">
            <header>
                <span class="back" onclick="backToDetail()">&lt; 返回</span>
                <h2 id="form-title">表单</h2>
                <span class="save" onclick="saveForm()">保存</span>
            </header>
            <div class="form-container" id="form-container"></div>
        </div>
    </div>
    <script src="js/data.js"></script>
    <script src="js/data2.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
